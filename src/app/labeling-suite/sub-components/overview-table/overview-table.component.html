<ng-template [ngIf]="dataToDisplay != null">
    <ng-template [ngIf]="dataToDisplay.length > 0" [ngIfElse]="nothingToShow">
        <div class="flex flex-col p-4">
            <div class="overflow-x-auto">
                <div class="inline-block min-w-full align-middle">
                    <div class="overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg">
                        <table class="min-w-full border divide-y divide-gray-300">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th scope="col"
                                        class="py-2 pl-4 pr-3 text-left text-xs font-medium uppercase tracking-wide text-gray-500 sm:pl-6">
                                        Type</th>
                                    <th scope="col"
                                        class="px-3 py-2 text-left text-xs font-medium uppercase tracking-wide text-gray-500">
                                        Task</th>
                                    <th scope="col"
                                        class="px-3 py-2 text-left text-xs font-medium uppercase tracking-wide text-gray-500">
                                        Created by</th>
                                    <th scope="col"
                                        class="px-3 py-2 text-left text-xs font-medium uppercase tracking-wide text-gray-500">
                                        Label</th>
                                    <th scope="col">
                                        <!-- <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                            stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" />
                                        </svg> -->
                                    </th>
                                    <th scope="col">
                                    </th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-200 bg-white">
                                <tr *ngFor="let ovItem of dataToDisplay; let i = index"
                                    [ngClass]="i%2 ==0 ? 'bg-white':'bg-gray-50'">
                                    <td class="whitespace-nowrap py-2 pl-4 pr-3 text-sm font-medium text-gray-500 sm:pl-6"
                                        hover-group-class="{{lsm.settingManager.settings.main.hoverGroupBackgroundColorClass}}"
                                        hover-group="{{ovItem.hoverGroups.type}}">
                                        {{ovItem.sourceType}}</td>
                                    <td class="whitespace-nowrap px-3 py-2 text-sm text-gray-500"
                                        hover-group-class="{{lsm.settingManager.settings.main.hoverGroupBackgroundColorClass}}"
                                        hover-group="{{ovItem.hoverGroups.task}}">
                                        {{ovItem.taskName}}</td>
                                    <td class="whitespace-nowrap px-3 py-2 text-sm text-gray-500"
                                        hover-group-class="{{lsm.settingManager.settings.main.hoverGroupBackgroundColorClass}}"
                                        hover-group="{{ovItem.hoverGroups.createdBy}}">
                                        {{ovItem.createdBy}}
                                    </td>
                                    <td class="whitespace-nowrap px-3 py-2 text-sm text-gray-500"
                                        hover-group-class="{{lsm.settingManager.settings.main.hoverGroupBackgroundColorClass}}"
                                        hover-group="{{ovItem.hoverGroups.label}}">

                                        <span
                                            class="inline-flex items-center px-2.5 py-0.5 rounded-md text-sm font-medium border border-0 cursor-default relative"
                                            [ngClass]="[ovItem.label.backgroundColor,ovItem.label.textColor,ovItem.label.borderColor]">{{ovItem.label.name}}
                                            <div class="label-overlay-base"
                                                hover-group-class="{{ovItem.hoverGroups.labelClass}}"
                                                hover-group="{{ovItem.hoverGroups.label}}"></div>
                                        </span>
                                        <span class="ml-2" *ngIf="ovItem.label.value">{{ovItem.label.value}}</span>
                                    </td>
                                    <td hover-group-class="{{lsm.settingManager.settings.main.hoverGroupBackgroundColorClass}}"
                                        hover-group="{{ovItem.hoverGroups.rlaId}}">
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                            stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" />
                                        </svg>
                                    </td>
                                    <td hover-group-class="{{lsm.settingManager.settings.main.hoverGroupBackgroundColorClass}}"
                                        hover-group="{{ovItem.hoverGroups.rlaId}}">
                                        <div *ngIf="ovItem.canBeDeleted" class="h-full flex items-center">
                                            <label (click)="lsm.recordManager.deleteLabelFromRecord(ovItem.rla.id)"
                                                class="modal-button btn btn-sm btn-ghost px-0">

                                                <svg xmlns="http://www.w3.org/2000/svg"
                                                    class="inline-block w-6 h-6 stroke-current text-red-700" fill="none"
                                                    viewBox="0 0 24 24" stroke="currentColor">
                                                    <path stroke-linecap="round" stroke-linejoin="round"
                                                        stroke-width="2"
                                                        d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                                </svg>
                                            </label>
                                        </div>
                                        <!-- <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline-block" fill="none"
                                            viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                        </svg> -->

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </ng-template>

    <ng-template #nothingToShow>
        <ng-template [ngIf]="!htmlSettings.showHeuristics && dataHasHeuristics">
            <p class="text-gray-500 p-5">Heuristics display is currently disabled</p>
        </ng-template>
    </ng-template>
</ng-template>